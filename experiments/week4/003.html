<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Week4-Exp3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/prism.css">
    <link rel="stylesheet" href="../css/experiments.css">
    <script src="../js/prism.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h3 class="text-muted">Week4 - Experiment3</h3>
        </div>
        <div class="jumbotron">
            <h3>AngularJS - Event Management Application</h3>
            <div>
                This experiment uses AngularJS to build up a single-page application that 
                can manage events. It include basic operation, such as add/remove event. 
                And the current event is well presented in bootstrap styled table.
            </div>
        </div>
        <div class="container-fluid experiment-items">
            <h4>Experiment Description:</h4>
            <p>
                <ol>
                    <li>
                        Ths app is on <b>EventManager.html</b>, which is shown in the following iframe.

                    </li>
                    <li>
                        User can input new event in the first line of the table body,
                        and click the "<b>+</b>" button to actually add the event into the table.
                    </li>
                    <li>
                        On the other hand, user can also remove an event by clicking the corresponding
                        "<b>X</b>" button at the end of table row.
                    </li>
                </ol>
            </p>
            <h4>Experiment:</h4>
            <p class="text-info"><small>Click button on top-left corner to view in new page</small></p>
            <div style="position: relative">
                <a class="btn btn-default btn-sm btn-top-left" target="_blank"
                   href="apps/EventManager.html">
                    <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span>
                </a>
            </div>
            <p>
                <iframe class="experiment-iframe" src="apps/EventManager.html"></iframe>
            </p>
            <h4>Code Analysis:</h4>
            <p>
                <h5> - HTML Snippet</h5>
                <pre><code class="language-markup scroll-overflow">&lt;tr ng-model=&quot;event&quot;&gt;
    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
    &lt;td&gt;&lt;input type=&quot;text&quot; ng-model=&quot;event.eventName&quot; /&gt;&lt;/td&gt;
    &lt;td&gt;&lt;input type=&quot;datetime-local&quot; ng-model=&quot;event.time&quot; /&gt;&lt;/td&gt;
    &lt;td&gt;&lt;input type=&quot;text&quot; ng-model=&quot;event.place&quot; /&gt;&lt;/td&gt;
    &lt;td&gt;
        &lt;div class=&quot;btn-group&quot; role=&quot;group&quot; aria-label=&quot;...&quot;&gt;
            &lt;button class=&quot;btn btn-default btn-sm&quot; ng-click=&quot;addEvent(event)&quot;&gt;
                &lt;span class=&quot;glyphicon glyphicon-plus&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;
            &lt;/button&gt;
        &lt;/div&gt;
    &lt;/td&gt;
&lt;/tr&gt;</code></pre>
                <h5> - Javascript Snippet</h5>
                <pre><code class="language-javascript scroll-overflow">var app = angular.module("EventManager", []);
app.controller("EventManagerController",
function ($scope) {
    initTimes = [ ... ];
    curEvents = [ ... ];
    $scope.events = curEvents;
    $scope.addEvent = function (event) {
        newEvent = { eventName: event.eventName, time: event.time, place: event.place };
        curEvents.push(newEvent);
    };
    $scope.removeEvent = function (event) {
        var index = curEvents.indexOf(event);
        curEvents.splice(index, 1);
    };
});</code></pre>

                <ol>
                    <li>
                        As the last experiment, include <b>angular.min.js</b> and <b>EventManager.js</b> </li>
                    <li>
                        Bind <code>&lt;tr&gt;</code> with an element <code>event</code>, and bind 
                        <code>&lt;td&gt;</code> with all of its attributes: <code>event.eventName</code>,
                        <code>event.time</code>, <code>event.place</code>, by setting directive 
                        <code>ng-module</code>
                    </li>
                    <li>
                        Set directive <code>ng-click</code> of the button to function <code>addEvent(event)</code>, 
                        which use the <code>event</code> as a parameter. This <code>event</code> is constructed
                        using the values of the input fields, since those are two-way bound. Similarily, we implemented
                        the function of remove an event from the table using <code>removeEvent(event)</code>.
                    </li>
                    <li>
                        Notice that we are not storing the event any where for now. And the code is now using 
                        a hard-coded data set.
                    </li>
                </ol>
            </p>
            <hr />
            <h4>Source Code Links: </h4>
            <p>
                <ul>
                    <li>
                        <a href="../../fileview/Default.aspx?~/experiments/week4/003.html">003.html</a>
                    </li>
                    <li>
                        <a href="../../fileview/Default.aspx?~/experiments/week4/apps/EventManager.html">EventManager.html</a>
                    </li>
                    <li>
                        <a href="../../fileview/Default.aspx?~/experiments/week4/apps/js/EventManager.js">EventManager.js</a>
                    </li>
                </ul>
            </p>
            <h4>Reference Links: </h4>
            <p>
                <ul>
                    <li>
                        <a target="_blank" href="https://docs.angularjs.org/tutorial">
                            AngularJS - Tutorial
                        </a>
                    </li>
                </ul>
            </p>
        </div>

        <div class="footer container-fluid">
            <p>© Zhenming Shen 2015</p>
        </div>
    </div>
</body>
</html>
